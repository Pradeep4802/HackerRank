P4_A:- IP ACLs to Mitigate Attacks
R:-
enable secret enpa55
line console 0
password conpa55
login

ip domain-name conasecurity.com
username admin secret adminpa55
line vty 0 4
login local
crypto key generate rsa

R2:-
int loopback 0
ip address 192.168.2.1 255.255.255.0
no shut
R1:-
ip route 192.168.3.0 255.255.255.0 10.1.1.2
ip route 10.2.2.0 255.255.255.252 10.1.1.2
ip route 192.168.2.0 255.255.255.0 10.1.1.2
R2:-
ip route 192.168.1.0 255.255.255.0 10.1.1.1
ip route 192.168.3.0 255.255.255.0 10.2.2.1
R3:-
ip route 192.168.1.0 255.255.255.0 10.2.2.2
ip route 192.168.2.0 255.255.255.0 10.2.2.2
ip route 10.1.1.0 255.255.255.252 10.2.2.2
PCA:-
ping 192.168.3.3
ping 192.168.2.1
ssh -l admin 192.168.2.1
password:adminpa55
PCC:
ping 192.168.1.3
ping 192.168.2.1
ssh -l admin 192.168.2.1
password:adminpa55
PCA-->Browser
192.168.1.3
###############Secure Access to Router###############
R:-
access-list 10 permit host 192.168.3.3
line vty 0 4
access-class 10 in
PCC:-
ssh -l admin 192.168.2.1
password:adminpa55
PCA:-
ssh -l admin 192.168.2.1
###############Create a nummbered IP ACL 120 on R1###############
PCA-->Service--->HTTP-->Disable and HTTPS-->Enable
R1:-
access-list 120 permit udp any host 192.168.1.3 eq domain
access-list 120 permit tcp any host 192.168.1.3 eq smtp
access-list 120 permit tcp any host 192.168.1.3 eq ftp
access-list 120 permit tcp any host 192.168.1.3 eq 443
access-list 120 permit tcp any host 192.168.1.3 host 10.1.1.1 eq 22

int se0/1/0
ip access-group 120 in
PCC--->Browser-->  192.168.1.3   (unsuccess)

###############Modify on Exiting ACL on R1###############
PCA-->  ping 192.168.2.1   (unsuccess-->request timed out)
R1:-
access-list 120 permit icmp any any echo-reply
access-list 120 permit icmp any any unreachable
access-list 120 permit icmp any any 
access-list 120 permit icmp any any 
PCA:--->  ping 192.168.2.1 
###############Create a Numbered IP ACL 110 on R3###############
R3:-
access-list 110 permit ip 192.1688.3.0 0.0.0.255 any
int gig0/1
ip access-group 110 in

###############Create a Numbered IP ACL 100 on R3###############
R3:-
access-list 100 permit tcp 10.0.0.0 0.255.255.255 host 192.168.3.3 eq 22
access-list 100 deny ip 10.0.0.0 0.255.255.255 any
access-list 100 deny ip 172.16.0.0 0.15.255.255 any
access-list 100 deny ip 192.168.0.0 0.0.255.255 any
access-list 100 deny ip 127.0.0.0 0.255.255.255 any
access-list 100 deny ip 224.0.0.0 15.255.255.255 any
access-list 100 permit ip any any

int se0/1/0
ip access-group 100 in

PC--->  
ping 192. 168.1.3   (unsucess)
ssh -l admin 192.168.2.1
password:adminpa55
